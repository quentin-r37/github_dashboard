{
  "permissions": {
    "allow": [
      "Bash(npm create:*)",
      "Bash(npx sv:*)",
      "Bash(npm install)",
      "Bash(npx shadcn-svelte@latest init:*)",
      "Bash(npm install:*)",
      "Bash(npx shadcn-svelte@latest add:*)",
      "Bash(npm run build:*)",
      "Bash(git init:*)",
      "Bash(npm ls:*)",
      "Bash(where:*)",
      "Bash(mkcert -install:*)",
      "Bash(mkcert:*)",
      "Bash(tree:*)",
      "Bash(git -C \"C:\\\\repo\\\\perso\\\\github_dashboard\" log --oneline)",
      "Bash(npm run check:*)",
      "mcp__svelte__svelte-autofixer",
      "WebFetch(domain:docs.github.com)",
      "Bash(dir:*)",
      "Bash(npx:*)",
      "Bash(git log:*)",
      "Bash(node -e \"\nconst pat = process.env.GITHUB_PAT || require\\(''dotenv''\\).config\\(\\).parsed?.GITHUB_PAT;\nconst repo = ''c2s-bouygues/c2s.aiplayground'';\nfetch\\(''https://api.github.com/repos/'' + repo + ''/secret-scanning/alerts?per_page=5'', {\n  headers: {\n    ''Authorization'': ''Bearer '' + pat,\n    ''Accept'': ''application/vnd.github+json'',\n    ''X-GitHub-Api-Version'': ''2022-11-28''\n  }\n}\\).then\\(async res => {\n  console.log\\(''Status:'', res.status, res.statusText\\);\n  console.log\\(''Rate-Limit-Remaining:'', res.headers.get\\(''x-ratelimit-remaining''\\)\\);\n  const body = await res.text\\(\\);\n  try { \n    const json = JSON.parse\\(body\\);\n    if \\(Array.isArray\\(json\\)\\) {\n      console.log\\(''Results count:'', json.length\\);\n      if \\(json.length > 0\\) console.log\\(''First alert:'', JSON.stringify\\(json[0], null, 2\\)\\);\n    } else {\n      console.log\\(''Response:'', JSON.stringify\\(json, null, 2\\)\\);\n    }\n  } catch { console.log\\(''Raw body:'', body.substring\\(0, 500\\)\\); }\n}\\);\n\")",
      "Bash(node -e \"\nconst fs = require\\(''fs''\\);\nconst envContent = fs.readFileSync\\(''.env'', ''utf-8''\\);\nconst pat = envContent.match\\(/GITHUB_PAT=\\(.+\\)/\\)?.[1]?.trim\\(\\);\nconst repo = ''c2s-bouygues/c2s.aiplayground'';\nfetch\\(''https://api.github.com/repos/'' + repo + ''/secret-scanning/alerts?per_page=5'', {\n  headers: {\n    ''Authorization'': ''Bearer '' + pat,\n    ''Accept'': ''application/vnd.github+json'',\n    ''X-GitHub-Api-Version'': ''2022-11-28''\n  }\n}\\).then\\(async res => {\n  console.log\\(''Status:'', res.status, res.statusText\\);\n  console.log\\(''Rate-Limit-Remaining:'', res.headers.get\\(''x-ratelimit-remaining''\\)\\);\n  const body = await res.text\\(\\);\n  try { \n    const json = JSON.parse\\(body\\);\n    if \\(Array.isArray\\(json\\)\\) {\n      console.log\\(''Results count:'', json.length\\);\n      if \\(json.length > 0\\) console.log\\(''First alert keys:'', Object.keys\\(json[0]\\).join\\('', ''\\)\\);\n    } else {\n      console.log\\(''Response:'', JSON.stringify\\(json, null, 2\\)\\);\n    }\n  } catch { console.log\\(''Raw body:'', body.substring\\(0, 500\\)\\); }\n}\\);\n\")",
      "Bash(node -e \"\nconst fs = require\\(''fs''\\);\nconst pat = fs.readFileSync\\(''.env'', ''utf-8''\\).match\\(/GITHUB_PAT=\\(.+\\)/\\)?.[1]?.trim\\(\\);\nconst repo = ''c2s-bouygues/c2s.aiplayground'';\n\nPromise.all\\([\n  fetch\\(''https://api.github.com/repos/'' + repo + ''/secret-scanning/alerts?per_page=5&state=open'', {\n    headers: { ''Authorization'': ''Bearer '' + pat, ''Accept'': ''application/vnd.github+json'', ''X-GitHub-Api-Version'': ''2022-11-28'' }\n  }\\).then\\(r => r.json\\(\\)\\).then\\(j => console.log\\(''Open:'', Array.isArray\\(j\\) ? j.length : j.message\\)\\),\n\n  fetch\\(''https://api.github.com/repos/'' + repo + ''/secret-scanning/alerts?per_page=5&state=resolved'', {\n    headers: { ''Authorization'': ''Bearer '' + pat, ''Accept'': ''application/vnd.github+json'', ''X-GitHub-Api-Version'': ''2022-11-28'' }\n  }\\).then\\(r => r.json\\(\\)\\).then\\(j => console.log\\(''Resolved:'', Array.isArray\\(j\\) ? j.length : j.message\\)\\),\n]\\);\n\")",
      "Bash(node -e \"\nconst fs = require\\(''fs''\\);\nconst pat = fs.readFileSync\\(''.env'', ''utf-8''\\).match\\(/GITHUB_PAT=\\(.+\\)/\\)?.[1]?.trim\\(\\);\nconst repo = ''c2s-bouygues/c2s.aiplayground'';\n\n// Try fetching with no state filter at all, and also with different params\nconst urls = [\n  ''/repos/'' + repo + ''/secret-scanning/alerts?per_page=100'',\n  ''/repos/'' + repo + ''/secret-scanning/alerts?per_page=100&state=resolved'',\n  ''/repos/'' + repo + ''/secret-scanning/alerts?per_page=100&secret_type=generic'',\n];\n\nPromise.all\\(urls.map\\(async \\(url, i\\) => {\n  const res = await fetch\\(''https://api.github.com'' + url, {\n    headers: { ''Authorization'': ''Bearer '' + pat, ''Accept'': ''application/vnd.github+json'', ''X-GitHub-Api-Version'': ''2022-11-28'' }\n  }\\);\n  const body = await res.text\\(\\);\n  console.log\\(''URL['' + i + '']:'', url\\);\n  console.log\\(''  Status:'', res.status\\);\n  try {\n    const json = JSON.parse\\(body\\);\n    console.log\\(''  Count:'', Array.isArray\\(json\\) ? json.length : ''N/A''\\);\n    if \\(!Array.isArray\\(json\\)\\) console.log\\(''  Body:'', JSON.stringify\\(json\\).substring\\(0, 300\\)\\);\n  } catch { console.log\\(''  Body:'', body.substring\\(0, 300\\)\\); }\n  console.log\\(\\);\n}\\)\\);\n\")",
      "Bash(gh api:*)",
      "WebSearch",
      "WebFetch(domain:github.blog)",
      "Bash(node -e \"\nconst fs = require\\(''fs''\\);\nconst pat = fs.readFileSync\\(''.env'', ''utf-8''\\).match\\(/GITHUB_PAT=\\(.+\\)/\\)?.[1]?.trim\\(\\);\nconst repo = ''c2s-bouygues/c2s.aiplayground'';\nconst genericTypes = [\n  ''ec_private_key'',''generic_private_key'',''http_basic_authentication_header'',\n  ''http_bearer_authentication_header'',''mongodb_connection_string'',''mysql_connection_string'',\n  ''openssh_private_key'',''pgp_private_key'',''postgres_connection_string'',''rsa_private_key'',''password''\n].join\\('',''\\);\n\nconst url = ''https://api.github.com/repos/'' + repo + ''/secret-scanning/alerts?per_page=100&secret_type='' + genericTypes;\nfetch\\(url, {\n  headers: { ''Authorization'': ''Bearer '' + pat, ''Accept'': ''application/vnd.github+json'', ''X-GitHub-Api-Version'': ''2022-11-28'' }\n}\\).then\\(async res => {\n  console.log\\(''Status:'', res.status\\);\n  const json = await res.json\\(\\);\n  console.log\\(''Count:'', Array.isArray\\(json\\) ? json.length : ''N/A''\\);\n  if \\(Array.isArray\\(json\\) && json.length > 0\\) {\n    json.forEach\\(\\(a, i\\) => {\n      console.log\\(''Alert'', i, '':'', JSON.stringify\\({ number: a.number, state: a.state, secret_type: a.secret_type, secret_type_display_name: a.secret_type_display_name, resolution: a.resolution }, null, 2\\)\\);\n    }\\);\n  } else if \\(!Array.isArray\\(json\\)\\) {\n    console.log\\(''Body:'', JSON.stringify\\(json, null, 2\\)\\);\n  }\n}\\);\n\")",
      "Bash(node -e \"\nconst fs = require\\(''fs''\\);\nconst pat = fs.readFileSync\\(''.env'', ''utf-8''\\).match\\(/GITHUB_PAT=\\(.+\\)/\\)?.[1]?.trim\\(\\);\nconst repo = ''c2s-bouygues/c2s.aiplayground'';\n\n// Simulate the exact URL the updated client builds\nconst genericTypes = [\n  ''ec_private_key'',''generic_private_key'',''http_basic_authentication_header'',\n  ''http_bearer_authentication_header'',''mongodb_connection_string'',''mysql_connection_string'',\n  ''openssh_private_key'',''pgp_private_key'',''postgres_connection_string'',''rsa_private_key'',''password''\n].join\\('',''\\);\nconst params = new URLSearchParams\\({ per_page: ''100'', secret_type: genericTypes }\\);\nconst url = ''https://api.github.com/repos/'' + repo + ''/secret-scanning/alerts?'' + params;\n\nfetch\\(url, {\n  headers: { ''Authorization'': ''Bearer '' + pat, ''Accept'': ''application/vnd.github+json'', ''X-GitHub-Api-Version'': ''2022-11-28'' }\n}\\).then\\(async res => {\n  const json = await res.json\\(\\);\n  console.log\\(''Status:'', res.status\\);\n  console.log\\(''Alert count:'', Array.isArray\\(json\\) ? json.length : ''N/A''\\);\n  if \\(Array.isArray\\(json\\)\\) {\n    json.forEach\\(a => console.log\\(''-'', ''#'' + a.number, a.state, a.secret_type_display_name, ''\\('' + a.secret_type + ''\\)''\\)\\);\n  }\n}\\);\n\")"
    ]
  }
}
